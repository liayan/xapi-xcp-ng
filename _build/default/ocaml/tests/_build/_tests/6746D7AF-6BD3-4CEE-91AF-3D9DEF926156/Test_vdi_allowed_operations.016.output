[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'session'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'auth'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'subject'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'role'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'task'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'event'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'pool'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'pool_patch'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'pool_update'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VM'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VM_metrics'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VM_guest_metrics'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VMPP'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VMSS'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VM_appliance'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'DR_task'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'host'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'host_crashdump'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'host_patch'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'host_metrics'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'host_cpu'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'network'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VIF'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VIF_metrics'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'PIF'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'PIF_metrics'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'Bond'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VLAN'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'SM'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'SR'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'sr_stat'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'probe_result'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'LVHD'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VDI'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VBD'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VBD_metrics'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'PBD'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'crashdump'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VTPM'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'console'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'user'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'data_source'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'blob'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'message'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'secret'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'tunnel'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'network_sriov'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'PCI'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'PGPU'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'GPU_group'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VGPU'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VGPU_type'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'PVS_site'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'PVS_server'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'PVS_proxy'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'PVS_cache_storage'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'Feature'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'SDN_controller'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'vdi_nbd_server_info'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'PUSB'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'USB_group'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'VUSB'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'Cluster'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'Cluster_host'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'Certificate'
[20230915T14:36:34.952Z|debug||0 ||xapi] Adding new database table: 'Diagnostics'
[20230915T14:36:34.952Z| info||0 ||redo_log] Flushing database to all active redo-logs
[20230915T14:36:34.952Z|debug||0 ||xapi] About to flush database: ./xapi-db.xml
[20230915T14:36:34.952Z| info||0 ||redo_log] Flushing database to all active redo-logs
[20230915T14:36:34.954Z|debug||0 ||sql] XML backend [./xapi-db.xml] -- Write buffer flushed. Time: 0.001686
[20230915T14:36:34.954Z|error||0 ||dbsync] Cannot read IP address. Check the control interface has an IP address
[20230915T14:36:34.954Z|debug||0 ||db_write] create_row host_metrics (OpaqueRef:f25cf561-c207-419e-bc50-31ca8346258f) [(_ref,v),(uuid,v),(memory__total,v),(memory__free,v),(live,v),(last_updated,v),(other_config,v)]
[20230915T14:36:34.954Z|debug||0 ||db_write] create_row host (OpaqueRef:ba454c89-d2b0-4082-96aa-69a1093357e6) [(_ref,v),(uuid,v),(name__label,v),(name__description,v),(memory__overhead,v),(allowed_operations,v),(current_operations,v),(API_version__major,v),(API_version__minor,v),(API_version__vendor,v),(API_version__vendor_implementation,v),(enabled,v),(software_version,v),(other_config,v),(capabilities,v),(cpu_configuration,v),(sched_policy,v),(supported_bootloaders,v),(logging,v),(suspend_image_sr,v),(crash_dump_sr,v),(cpu_info,v),(hostname,v),(address,v),(metrics,v),(license_params,v),(boot_free_mem,v),(ha_statefiles,v),(ha_network_peers,v),(blobs,v),(tags,v),(external_auth_type,v),(external_auth_service_name,v),(external_auth_configuration,v),(edition,v),(license_server,v),(bios_strings,v),(power_on_mode,v),(power_on_config,v),(local_cache_sr,v),(chipset_info,v),(ssl_legacy,v),(guest_VCPUs_params,v),(display,v),(virtual_hardware_platform_versions,v),(control_domain,v),(updates_requiring_reboot,v),(iscsi_iqn,v),(multipathing,v),(uefi_certificates,v),(editions,v),(https_only,v)]
[20230915T14:36:34.954Z|error||0 ||helpers] Failed to find domain zero (uuid = b568ecde-50ed-4090-abc7-9692051655b0)
[20230915T14:36:34.954Z|debug||0 ||db_write] create_row VM (OpaqueRef:2bb93897-b647-4b30-9957-7cbfce2141de) [(_ref,v),(uuid,v),(allowed_operations,v),(current_operations,v),(name__label,v),(name__description,v),(power_state,v),(user_version,v),(is_a_template,v),(is_default_template,v),(suspend_VDI,v),(resident_on,v),(scheduled_to_be_resident_on,v),(affinity,v),(memory__overhead,v),(memory__target,v),(memory__static_max,v),(memory__dynamic_max,v),(memory__dynamic_min,v),(memory__static_min,v),(VCPUs__params,v),(VCPUs__max,v),(VCPUs__at_startup,v),(actions__after_shutdown,v),(actions__after_reboot,v),(actions__after_crash,v),(PV__bootloader,v),(PV__kernel,v),(PV__ramdisk,v),(PV__args,v),(PV__bootloader_args,v),(PV__legacy_args,v),(HVM__boot_policy,v),(HVM__boot_params,v),(HVM__shadow_multiplier,v),(platform,v),(PCI_bus,v),(other_config,v),(domid,v),(domarch,v),(last_boot_CPU_flags,v),(is_control_domain,v),(metrics,v),(guest_metrics,v),(last_booted_record,v),(recommendations,v),(xenstore_data,v),(ha_always_run,v),(ha_restart_priority,v),(is_a_snapshot,v),(snapshot_of,v),(snapshot_time,v),(transportable_snapshot_id,v),(blobs,v),(tags,v),(blocked_operations,v),(snapshot_info,v),(snapshot_metadata,v),(parent,v),(bios_strings,v),(protection_policy,v),(is_snapshot_from_vmpp,v),(snapshot_schedule,v),(is_vmss_snapshot,v),(appliance,v),(start_delay,v),(shutdown_delay,v),(order,v),(suspend_SR,v),(version,v),(generation_id,v),(hardware_platform_version,v),(has_vendor_device,v),(requires_reboot,v),(reference_label,v),(domain_type,v),(NVRAM,v)]
[20230915T14:36:34.955Z|debug||0 ||create_misc] Domain 0 record does not have associated metrics record. Creating now
[20230915T14:36:34.955Z|debug||0 ||db_write] create_row VM_metrics (OpaqueRef:d9db5847-e762-480c-9b01-1edb0b84aff3) [(_ref,v),(uuid,v),(memory__actual,v),(VCPUs__number,v),(VCPUs__utilisation,v),(VCPUs__CPU,v),(VCPUs__params,v),(VCPUs__flags,v),(state,v),(start_time,v),(install_time,v),(last_updated,v),(other_config,v),(hvm,v),(nested_virt,v),(nomigrate,v),(current_domain_type,v)]
[20230915T14:36:34.955Z|debug||0 ||db_write] create_row console (OpaqueRef:3775d36d-6119-44c2-bb5f-a00510fe0b59) [(_ref,v),(uuid,v),(protocol,v),(location,v),(VM,v),(other_config,v),(port,v)]
[20230915T14:36:34.955Z|debug||0 ||db_write] create_row console (OpaqueRef:d2b43ae8-21b1-449f-9488-03273d37b20f) [(_ref,v),(uuid,v),(protocol,v),(location,v),(VM,v),(other_config,v),(port,v)]
[20230915T14:36:34.955Z|debug||0 ||create_misc] Updating Domain 0 metrics record
[20230915T14:36:34.956Z|debug||0 ||db_write] create_row pool (OpaqueRef:8934b1ed-e3b1-4101-9baa-feeff68bd881) [(_ref,v),(uuid,v),(name_label,v),(name_description,v),(master,v),(default_SR,v),(suspend_image_SR,v),(crash_dump_SR,v),(other_config,v),(ha_enabled,v),(ha_configuration,v),(ha_statefiles,v),(ha_host_failures_to_tolerate,v),(ha_plan_exists_for,v),(ha_allow_overcommit,v),(ha_overcommitted,v),(blobs,v),(tags,v),(gui_config,v),(health_check_config,v),(wlb_url,v),(wlb_username,v),(wlb_password,v),(wlb_enabled,v),(wlb_verify_cert,v),(redo_log_enabled,v),(redo_log_vdi,v),(vswitch_controller,v),(restrictions,v),(ha_cluster_stack,v),(allowed_operations,v),(current_operations,v),(guest_agent_config,v),(cpu_info,v),(policy_no_vendor_device,v),(live_patching_disabled,v),(igmp_snooping_enabled,v),(uefi_certificates,v),(is_psr_pending,v)]
[20230915T14:36:34.956Z|debug||0 ||db_write] create_row SM (OpaqueRef:09019d46-911b-462c-bf27-d201fae43057) [(_ref,v),(uuid,v),(name__label,v),(name__description,v),(type,v),(vendor,v),(copyright,v),(version,v),(required_api_version,v),(configuration,v),(capabilities,v),(features,v),(other_config,v),(driver_filename,v),(required_cluster_stack,v)]
[20230915T14:36:34.956Z|debug||0 ||db_write] create_row SR (OpaqueRef:bcd50a24-a82b-4d32-a905-cad1c76926c2) [(_ref,v),(uuid,v),(name__label,v),(name__description,v),(allowed_operations,v),(current_operations,v),(virtual_allocation,v),(physical_utilisation,v),(physical_size,v),(type,v),(content_type,v),(shared,v),(other_config,v),(tags,v),(default_vdi_visibility,v),(sm_config,v),(blobs,v),(local_cache_enabled,v),(introduced_by,v),(clustered,v),(is_tools_sr,v)]
[20230915T14:36:34.956Z|debug||0 ||db_write] create_row PBD (OpaqueRef:7bb86e1f-319c-42ef-80df-a9a37cff76ea) [(_ref,v),(uuid,v),(host,v),(SR,v),(device_config,v),(currently_attached,v),(other_config,v)]
[20230915T14:36:34.956Z|debug||0 ||db_write] create_row VDI (OpaqueRef:9bc77a51-b9e8-414e-be1e-031c26cd4257) [(_ref,v),(uuid,v),(name__label,v),(name__description,v),(allowed_operations,v),(current_operations,v),(SR,v),(virtual_size,v),(physical_utilisation,v),(type,v),(sharable,v),(read_only,v),(other_config,v),(storage_lock,v),(location,v),(managed,v),(missing,v),(parent,v),(xenstore_data,v),(sm_config,v),(is_a_snapshot,v),(snapshot_of,v),(snapshot_time,v),(tags,v),(allow_caching,v),(on_boot,v),(metadata_of_pool,v),(metadata_latest,v),(is_tools_iso,v),(cbt_enabled,v)]
[20230915T14:36:34.956Z|debug||0 ||db_write] create_row VBD (OpaqueRef:450026c0-498a-4c52-8258-6e0dda8edad3) [(_ref,v),(uuid,v),(allowed_operations,v),(current_operations,v),(VM,v),(VDI,v),(device,v),(userdevice,v),(bootable,v),(mode,v),(type,v),(unpluggable,v),(storage_lock,v),(empty,v),(reserved,v),(other_config,v),(currently_attached,v),(status_code,v),(status_detail,v),(runtime_properties,v),(qos__algorithm_type,v),(qos__algorithm_params,v),(qos__supported_algorithms,v),(metrics,v)]
[33m-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------[0m
ASSERT update_allowed_operations should be correct
[33m-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------[0m
[33m-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------[0m
ASSERT update_allowed_operations should be correct
[33m-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------[0m
